# Rails Next Template

Rails API + Next.js 2ç”»é¢æ§‹æˆã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€Rails API + Next.js 2ç”»é¢æ§‹æˆã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ã€‚
æ–°è¦ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆé–‹ç™ºæ™‚ã«å³åº§ã«åˆ©ç”¨ã§ãã‚‹ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æä¾›ã—ã¾ã™ã€‚

### ä¸»è¦ç‰¹å¾´

- **Rails API**: ç®¡ç†å´ã‚‚å«ã‚ã¦å®Œå…¨APIåŒ–
- **Next.js 2ç”»é¢æ§‹æˆ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ»ç®¡ç†è€…å‘ã‘ã‚’å®Œå…¨åˆ†é›¢
- **Firebase Auth**: å…±é€šèªè¨¼åŸºç›¤
- **Docker Compose**: ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ
- **å°†æ¥çš„ã«GCPå¯¾å¿œ**: Cloud Run + Cloud SQL + Cloud Storage

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- Rails 7.1 (API mode)
- PostgreSQL 15
- Firebase Admin SDK

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- Next.js 14 (App Router)
- TypeScript
- Tailwind CSS
- React Query

### é–‹ç™ºç’°å¢ƒ
- Docker Compose
- Turbo (monorepo)
- GitHub Actions (CI)

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
rails-next-template/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ user-web/              # Next.jsï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ç”»é¢ï¼‰
â”‚   â”œâ”€â”€ admin-web/             # Next.jsï¼ˆç®¡ç†ç”»é¢ï¼‰
â”‚   â””â”€â”€ rails-api/             # Rails API
â”œâ”€â”€ shared/                    # å…±é€šè¨­å®šãƒ»å‹å®šç¾©
â”‚   â”œâ”€â”€ types/
â”‚   â””â”€â”€ config/
â”œâ”€â”€ scripts/                   # é–‹ç™ºã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ setup_dev.sh          # 1ã‚³ãƒãƒ³ãƒ‰ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
â”‚   â”œâ”€â”€ build_all.sh
â”‚   â””â”€â”€ test_all.sh
â”œâ”€â”€ .github/workflows/         # CIè¨­å®š
â”œâ”€â”€ docs/                      # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ docker-compose.yml         # ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ
â”œâ”€â”€ .env.sample               # ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â””â”€â”€ README.md
```

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/yuukinakamura0925/rails-next-template_app.git
cd rails-next-template_app
```

### 2. ç’°å¢ƒæ§‹ç¯‰

```bash
# 1ã‚³ãƒãƒ³ãƒ‰ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆæº–å‚™ä¸­ï¼‰
./scripts/setup_dev.sh

# ã¾ãŸã¯æ‰‹å‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
docker-compose up
```

### 3. ã‚¢ã‚¯ã‚»ã‚¹

- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”»é¢**: http://localhost:3000
- **ç®¡ç†ç”»é¢**: http://localhost:3002
- **Rails API**: http://localhost:3001

## ğŸ“‹ é–‹ç™ºé€²æ—

### Phase 1: åŸºç›¤æ§‹ç¯‰ (é€±1-2)
- [ ] Monorepoæ§‹æˆä½œæˆ
- [ ] Rails APIåŸºæœ¬æ§‹æˆ
- [ ] Docker Composeç’°å¢ƒ
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ»ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- [ ] åŸºæœ¬çš„ãªAPIæ§‹é€ ä½œæˆ
- [ ] é–‹ç™ºç’°å¢ƒ1ã‚³ãƒãƒ³ãƒ‰ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [ ] åŸºæœ¬çš„ãªCIè¨­å®š
- [ ] ç’°å¢ƒå¤‰æ•°ãƒ»è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†

### Phase 2: èªè¨¼ã‚·ã‚¹ãƒ†ãƒ  (é€±3-4)
- [ ] Firebase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
- [ ] Rails Firebase Authé€£æº
- [ ] å…±é€šFirebaseè¨­å®š
- [ ] èªè¨¼ãƒ•ãƒ­ãƒ¼å®Ÿè£…

### Phase 3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (é€±5-8)
- [ ] Next.js 2ç”»é¢æ§‹ç¯‰
- [ ] å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
- [ ] APIé€£æºåŸºç›¤

### Phase 4: æ©Ÿèƒ½å®Ÿè£…
- [ ] CRUDæ©Ÿèƒ½å®Ÿè£…
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- [ ] æ±ºæ¸ˆæ©Ÿèƒ½

### Phase 5: ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆå°†æ¥å¯¾å¿œï¼‰
- [ ] GCP Terraformè¨­å®š
- [ ] Cloud Run ãƒ‡ãƒ—ãƒ­ã‚¤
- [ ] CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

## ğŸ”— é–¢é€£ãƒªãƒ³ã‚¯

- [GitHub Issues](https://github.com/yuukinakamura0925/rails-next-template_app/issues)
- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†](https://github.com/yuukinakamura0925/rails-next-template_app/projects)
- [ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](./docs/)

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License